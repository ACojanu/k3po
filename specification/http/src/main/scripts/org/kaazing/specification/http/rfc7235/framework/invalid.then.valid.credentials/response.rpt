property invalidCredentials ${http:loginBase64Encoder("baduser:badpass")}
property authHeader1 ${http:append("Basic", invalidCredentials)}
property validCredentials ${http:loginBase64Encoder("joe:welcome")}
property authHeader2 ${http:append("Basic", invalidCredentials)}
accept http://localhost:8000/resource
accepted
connected

read method "GET"
read header "Authorization" ${authHeader1}

write status "401" "Unauthorized"
write header "WWW-Authenticate" "Basic realm=\"Example Realm\""
write flush

accepted
connected

read method "GET"
read header "Authorization" ${authHeader2}

write status "200" "OK"
write flush

