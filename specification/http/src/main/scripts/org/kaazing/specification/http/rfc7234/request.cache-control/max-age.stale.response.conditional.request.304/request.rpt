connect http://localhost:8000/index.html
connected

write method "GET"
write version "HTTP/1.1"
write header host
write header content-length
write flush

read status "200" /.*/
read header "ETag" /(?<entityTag>.+)/
read header "Cache-Control" /max-age=.+/
read notify ENTITY_TAG

connect await ENTITY_TAG
connect http://localhost:8000/index.html
connected

write method "GET"
write version "HTTP/1.1"
write header host
write header "If-None-Match" ${entityTag}
write header "Cache-Control" "max-age=5"
write header content-length
write flush

read status "304" /.*/
read header "ETag" /.+/
read header "Cache-Control" /.+/
read closed
